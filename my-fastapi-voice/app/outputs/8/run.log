[2025-09-16 11:53:34] Job 1: clear-voice
Found 1 file(s). Profile=hifi_48k
Enhancing:   0%|          | 0/1 [00:00<?, ?it/s]Running MossFormer2_SE_48K ...

  0%|          | 0/1 [00:00<?, ?it/s][A
100%|██████████| 1/1 [00:30<00:00, 30.86s/it][A100%|██████████| 1/1 [00:30<00:00, 30.86s/it]
Enhancing: 100%|██████████| 1/1 [00:34<00:00, 34.97s/it]Enhancing: 100%|██████████| 1/1 [00:34<00:00, 34.97s/it]
OK: /home/user01/my-fastapi-voice/app/outputs/8/input/8.webm -> /home/user01/my-fastapi-voice/app/outputs/8/clear-voice/enhanced48k_8.wav
Done.
[2025-09-16 11:54:11] Job 2: facebook-denoiser
INPUT_DIR: /home/user01/my-fastapi-voice/app/outputs/8/input
OUTPUT_DIR: /home/user01/my-fastapi-voice/app/outputs/8/facebook-denoiser
Using device: cuda
Found 1 audio file(s).
Denoising:   0%|          | 0/1 [00:00<?, ?it/s]/home/user01/facebook-denoiser/facebook-denoiser-venv/lib/python3.10/site-packages/torchaudio/_backend/utils.py:213: UserWarning: In 2.9, this function's implementation will be changed to use torchaudio.load_with_torchcodec` under the hood. Some parameters like ``normalize``, ``format``, ``buffer_size``, and ``backend`` will be ignored. We recommend that you port your code to rely directly on TorchCodec's decoder instead: https://docs.pytorch.org/torchcodec/stable/generated/torchcodec.decoders.AudioDecoder.html#torchcodec.decoders.AudioDecoder.
  warnings.warn(
/home/user01/facebook-denoiser/facebook-denoiser-venv/lib/python3.10/site-packages/torchaudio/_backend/ffmpeg.py:88: UserWarning: torio.io._streaming_media_decoder.StreamingMediaDecoder has been deprecated. This deprecation is part of a large refactoring effort to transition TorchAudio into a maintenance phase. The decoding and encoding capabilities of PyTorch for both audio and video are being consolidated into TorchCodec. Please see https://github.com/pytorch/audio/issues/3902 for more information. It will be removed from the 2.9 release. 
  s = torchaudio.io.StreamReader(src, format, None, buffer_size)
Denoising: 100%|██████████| 1/1 [00:00<00:00,  1.19it/s]Denoising: 100%|██████████| 1/1 [00:00<00:00,  1.19it/s]

All files processed successfully 🎉
Outputs saved under: /home/user01/my-fastapi-voice/app/outputs/8/facebook-denoiser
Zipped /home/user01/my-fastapi-voice/app/outputs/8/facebook-denoiser as /home/user01/my-fastapi-voice/app/outputs/8/processed_FacebookResearch_Denoiser.zip
You can download the zip manually from the server (e.g., via SCP).
[2025-09-16 11:54:15] Job 3: deepfilternet
/home/user01/deepfilternet/deepfilternet_venv/lib/python3.10/site-packages/df/io.py:9: UserWarning: `torchaudio.backend.common.AudioMetaData` has been moved to `torchaudio.AudioMetaData`. Please update the import path.
  from torchaudio.backend.common import AudioMetaData
2025-09-16 11:54:16 | INFO     | DF | Running on torch 2.8.0+cu128
2025-09-16 11:54:16 | INFO     | DF | Running on host user01
fatal: not a git repository (or any of the parent directories): .git
2025-09-16 11:54:16 | INFO     | DF | Loading model settings of DeepFilterNet3
2025-09-16 11:54:16 | INFO     | DF | Using DeepFilterNet3 model at /home/user01/.cache/DeepFilterNet/DeepFilterNet3
2025-09-16 11:54:16 | INFO     | DF | Running with post-filter (beta: 0.02)
2025-09-16 11:54:16 | INFO     | DF | Initializing model `deepfilternet3`
2025-09-16 11:54:17 | INFO     | DF | Found checkpoint /home/user01/.cache/DeepFilterNet/DeepFilterNet3/checkpoints/model_120.ckpt.best with epoch 120
2025-09-16 11:54:17 | INFO     | DF | Running on device cuda:0
2025-09-16 11:54:17 | INFO     | DF | Model loaded
Enhancing:   0%|          | 0/1 [00:00<?, ?file/s]/home/user01/deepfilternet/deepfilternet_venv/lib/python3.10/site-packages/torchaudio/_backend/utils.py:213: UserWarning: In 2.9, this function's implementation will be changed to use torchaudio.load_with_torchcodec` under the hood. Some parameters like ``normalize``, ``format``, ``buffer_size``, and ``backend`` will be ignored. We recommend that you port your code to rely directly on TorchCodec's decoder instead: https://docs.pytorch.org/torchcodec/stable/generated/torchcodec.decoders.AudioDecoder.html#torchcodec.decoders.AudioDecoder.
  warnings.warn(
/home/user01/deepfilternet/deepfilternet_venv/lib/python3.10/site-packages/torchaudio/_backend/ffmpeg.py:88: UserWarning: torio.io._streaming_media_decoder.StreamingMediaDecoder has been deprecated. This deprecation is part of a large refactoring effort to transition TorchAudio into a maintenance phase. The decoding and encoding capabilities of PyTorch for both audio and video are being consolidated into TorchCodec. Please see https://github.com/pytorch/audio/issues/3902 for more information. It will be removed from the 2.9 release. 
  s = torchaudio.io.StreamReader(src, format, None, buffer_size)
/home/user01/deepfilternet/deepfilternet_venv/lib/python3.10/site-packages/torchaudio/_backend/utils.py:337: UserWarning: In 2.9, this function's implementation will be changed to use torchaudio.save_with_torchcodec` under the hood. Some parameters like format, encoding, bits_per_sample, buffer_size, and ``backend`` will be ignored. We recommend that you port your code to rely directly on TorchCodec's encoder instead: https://docs.pytorch.org/torchcodec/stable/generated/torchcodec.encoders.AudioEncoder
  warnings.warn(
/home/user01/deepfilternet/deepfilternet_venv/lib/python3.10/site-packages/torchaudio/_backend/ffmpeg.py:247: UserWarning: torio.io._streaming_media_encoder.StreamingMediaEncoder has been deprecated. This deprecation is part of a large refactoring effort to transition TorchAudio into a maintenance phase. The decoding and encoding capabilities of PyTorch for both audio and video are being consolidated into TorchCodec. Please see https://github.com/pytorch/audio/issues/3902 for more information. It will be removed from the 2.9 release. 
  s = torchaudio.io.StreamWriter(uri, format=muxer, buffer_size=buffer_size)
Enhancing: 100%|██████████| 1/1 [00:02<00:00,  2.70s/file]Enhancing: 100%|██████████| 1/1 [00:02<00:00,  2.70s/file]
[2025-09-16 11:54:20] Job 4: faster-whisper
Found 1 file(s). Whisper model=medium | device=cuda | compute=float16 | beam=5
Processing:   0%|          | 0/1 [00:00<?, ?it/s]Processing: 100%|██████████| 1/1 [00:10<00:00, 10.91s/it]Processing: 100%|██████████| 1/1 [00:10<00:00, 10.91s/it]

OK: /home/user01/my-fastapi-voice/app/outputs/8/clear-voice/enhanced48k_8.wav
  Detected: fa (p≈0.98)
  -> /home/user01/my-fastapi-voice/app/outputs/8/faster-whisper/enhanced48k_8.en.txt
  -> /home/user01/my-fastapi-voice/app/outputs/8/faster-whisper/enhanced48k_8.fa.txt
Done.
Found 1 file(s). Whisper model=medium | device=cuda | compute=float16 | beam=5
Processing:   0%|          | 0/1 [00:00<?, ?it/s]Processing: 100%|██████████| 1/1 [00:09<00:00,  9.98s/it]Processing: 100%|██████████| 1/1 [00:09<00:00,  9.98s/it]

OK: /home/user01/my-fastapi-voice/app/outputs/8/facebook-denoiser/8_denoised.wav
  Detected: fa (p≈0.99)
  -> /home/user01/my-fastapi-voice/app/outputs/8/faster-whisper/8_denoised.en.txt
  -> /home/user01/my-fastapi-voice/app/outputs/8/faster-whisper/8_denoised.fa.txt
Done.
Found 1 file(s). Whisper model=medium | device=cuda | compute=float16 | beam=5
Processing:   0%|          | 0/1 [00:00<?, ?it/s]Processing: 100%|██████████| 1/1 [00:10<00:00, 10.79s/it]Processing: 100%|██████████| 1/1 [00:10<00:00, 10.79s/it]

OK: /home/user01/my-fastapi-voice/app/outputs/8/deepfilternet/8_df.wav
  Detected: fa (p≈0.99)
  -> /home/user01/my-fastapi-voice/app/outputs/8/faster-whisper/8_df.en.txt
  -> /home/user01/my-fastapi-voice/app/outputs/8/faster-whisper/8_df.fa.txt
Done.
[2025-09-16 11:55:08] Job 5: facebook-seamless
Fetching 1 files:   0%|          | 0/1 [00:00<?, ?it/s]Fetching 1 files: 100%|██████████| 1/1 [00:00<00:00, 20262.34it/s]
Fetching 1 files:   0%|          | 0/1 [00:00<?, ?it/s]Fetching 1 files: 100%|██████████| 1/1 [00:00<00:00, 21732.15it/s]
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  2.81it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  2.76it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  2.76it/s]
/home/user01/facebook-seamless/facebook-seamless/lib/python3.10/site-packages/torchaudio/_backend/utils.py:213: UserWarning: In 2.9, this function's implementation will be changed to use torchaudio.load_with_torchcodec` under the hood. Some parameters like ``normalize``, ``format``, ``buffer_size``, and ``backend`` will be ignored. We recommend that you port your code to rely directly on TorchCodec's decoder instead: https://docs.pytorch.org/torchcodec/stable/generated/torchcodec.decoders.AudioDecoder.html#torchcodec.decoders.AudioDecoder.
  warnings.warn(
/home/user01/facebook-seamless/facebook-seamless/lib/python3.10/site-packages/torchaudio/_backend/ffmpeg.py:88: UserWarning: torio.io._streaming_media_decoder.StreamingMediaDecoder has been deprecated. This deprecation is part of a large refactoring effort to transition TorchAudio into a maintenance phase. The decoding and encoding capabilities of PyTorch for both audio and video are being consolidated into TorchCodec. Please see https://github.com/pytorch/audio/issues/3902 for more information. It will be removed from the 2.9 release. 
  s = torchaudio.io.StreamReader(src, format, None, buffer_size)
Model downloaded and cached.
/home/user01/my-fastapi-voice/app/outputs/8/clear-voice
Processed /home/user01/my-fastapi-voice/app/outputs/8/clear-voice/enhanced48k_8.wav -> Persian: /home/user01/my-fastapi-voice/app/outputs/8/facebook-seamless/enhanced48k_8_pes.txt, English: /home/user01/my-fastapi-voice/app/outputs/8/facebook-seamless/enhanced48k_8_eng.txt
Download them manually from your server (e.g., via SCP).
Fetching 1 files:   0%|          | 0/1 [00:00<?, ?it/s]Fetching 1 files: 100%|██████████| 1/1 [00:00<00:00, 24966.10it/s]
Fetching 1 files:   0%|          | 0/1 [00:00<?, ?it/s]Fetching 1 files: 100%|██████████| 1/1 [00:00<00:00, 20763.88it/s]
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.53it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  2.99it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.06it/s]
/home/user01/facebook-seamless/facebook-seamless/lib/python3.10/site-packages/torchaudio/_backend/utils.py:213: UserWarning: In 2.9, this function's implementation will be changed to use torchaudio.load_with_torchcodec` under the hood. Some parameters like ``normalize``, ``format``, ``buffer_size``, and ``backend`` will be ignored. We recommend that you port your code to rely directly on TorchCodec's decoder instead: https://docs.pytorch.org/torchcodec/stable/generated/torchcodec.decoders.AudioDecoder.html#torchcodec.decoders.AudioDecoder.
  warnings.warn(
/home/user01/facebook-seamless/facebook-seamless/lib/python3.10/site-packages/torchaudio/_backend/ffmpeg.py:88: UserWarning: torio.io._streaming_media_decoder.StreamingMediaDecoder has been deprecated. This deprecation is part of a large refactoring effort to transition TorchAudio into a maintenance phase. The decoding and encoding capabilities of PyTorch for both audio and video are being consolidated into TorchCodec. Please see https://github.com/pytorch/audio/issues/3902 for more information. It will be removed from the 2.9 release. 
  s = torchaudio.io.StreamReader(src, format, None, buffer_size)
Model downloaded and cached.
/home/user01/my-fastapi-voice/app/outputs/8/facebook-denoiser
Processed /home/user01/my-fastapi-voice/app/outputs/8/facebook-denoiser/8_denoised.wav -> Persian: /home/user01/my-fastapi-voice/app/outputs/8/facebook-seamless/8_denoised_pes.txt, English: /home/user01/my-fastapi-voice/app/outputs/8/facebook-seamless/8_denoised_eng.txt
Download them manually from your server (e.g., via SCP).
Fetching 1 files:   0%|          | 0/1 [00:00<?, ?it/s]Fetching 1 files: 100%|██████████| 1/1 [00:00<00:00, 20560.31it/s]
Fetching 1 files:   0%|          | 0/1 [00:00<?, ?it/s]Fetching 1 files: 100%|██████████| 1/1 [00:00<00:00, 20560.31it/s]
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards:  50%|█████     | 1/2 [00:00<00:00,  3.53it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.01it/s]Loading checkpoint shards: 100%|██████████| 2/2 [00:00<00:00,  3.08it/s]
/home/user01/facebook-seamless/facebook-seamless/lib/python3.10/site-packages/torchaudio/_backend/utils.py:213: UserWarning: In 2.9, this function's implementation will be changed to use torchaudio.load_with_torchcodec` under the hood. Some parameters like ``normalize``, ``format``, ``buffer_size``, and ``backend`` will be ignored. We recommend that you port your code to rely directly on TorchCodec's decoder instead: https://docs.pytorch.org/torchcodec/stable/generated/torchcodec.decoders.AudioDecoder.html#torchcodec.decoders.AudioDecoder.
  warnings.warn(
/home/user01/facebook-seamless/facebook-seamless/lib/python3.10/site-packages/torchaudio/_backend/ffmpeg.py:88: UserWarning: torio.io._streaming_media_decoder.StreamingMediaDecoder has been deprecated. This deprecation is part of a large refactoring effort to transition TorchAudio into a maintenance phase. The decoding and encoding capabilities of PyTorch for both audio and video are being consolidated into TorchCodec. Please see https://github.com/pytorch/audio/issues/3902 for more information. It will be removed from the 2.9 release. 
  s = torchaudio.io.StreamReader(src, format, None, buffer_size)
Model downloaded and cached.
/home/user01/my-fastapi-voice/app/outputs/8/deepfilternet
Processed /home/user01/my-fastapi-voice/app/outputs/8/deepfilternet/8_df.wav -> Persian: /home/user01/my-fastapi-voice/app/outputs/8/facebook-seamless/8_df_pes.txt, English: /home/user01/my-fastapi-voice/app/outputs/8/facebook-seamless/8_df_eng.txt
Download them manually from your server (e.g., via SCP).
[2025-09-16 11:56:48] Collecting *.txt results into /home/user01/my-fastapi-voice/app/outputs/8/texts
[2025-09-16 11:56:49] Job 6: ollama transcript merge (model: alibayram/medgemma:27b)
بیمار آقای 55 ساله با سابقه دیابت نوع 2، هایپر تنشن و دیسلیپیدمی مراجعه کرده است. از حدود دو ساعت قبل دچار درد قفسه سینه شده است که به صورت فشار رترو استرنال است و با تشعشع به بازوی چپ همراه است. درد با فعالیت تشدید می شود و با استراحت به طور کامل برطرف نمی شود. بیمار همچنین دچار تنگی نفس و تهوع است. سابقه خانوادگی مثبت دارد (پدرش بیماری قلبی داشته است) و سابقه سیگار سنگین دارد (20 سال). در معاینه فیزیکی، بیمار مضطرب اما هوشیار و آگاه است. فشار خون او 169.5 است و ضربان قلبش 110 است. در نوار قلب (ECG)، ST-segment elevation دیده می شود که نشان دهنده ایسکمی حاد می باشد. تشخیص اولیه ایسکمی حاد دیواره تحتانی (Acute Inferior Ischemia) است. برنامه درمانی شامل انتقال فوری به واحد مراقبت های ویژه قلب (CCU) و شروع درمان های لازم از جمله ضد انعقاد و آماده سازی برای آنژیوپلاستی عروق کرونر (PCI) می باشد. داروهای مصرفی بیمار شامل متفورمین، آمیلو دیپین و آتورواستاتین است.

[info] saved output to: /home/user01/my-fastapi-voice/app/outputs/8/texts/merged_output.txt
[2025-09-16 11:57:25] Merge successful: /home/user01/my-fastapi-voice/app/outputs/8/texts/merged_output.txt
[2025-09-16 11:57:25] Moving ONLY the merged_output.txt to voice folder: /home/user01/my-fastapi-voice/app/uploads/merged_output.txt
[2025-09-16 11:57:25] Done.
